:ruby
  organization ||= raise ArgumentError, "organization is required in view partial #{__FILE__}"
  future_events = organization.events.future.reorder('start_time asc').limit(10)
  past_events = organization.events.past.reorder('start_time desc').limit(10)

.organization-item
  .organization
    .organization-title= organization.name

    - if organization.url?
      %h2.organization-url-title= t('.url.title')
      .organization-url= link_to organization.url, organization.url

    %h2.organization-description-title= t('.description.title')
    .organization-description= organization.description.presence || t('.description.none')

    .organization-topics<
      - organization.topics.each do |topic|
        = link_to topic.name, '#', :class => 'topic'

  %h2.future-events-title= t('.future_events.title')
  .future-events.events-list.list
    - if future_events.any?
      = render 'events/calendar', :events => future_events
    - else
      .no-events= t('.future_events.none')

  %h2.past-events-title= t('.past_events.title')
  .past-events.events-list.list
    - if past_events.any?
      = render 'events/calendar', :events => past_events
    - else
      .no-events= t('.past_events.none')
